\section{Requirements}
\label{sec:Requirements}

\todo[inline]{Relire et/ou corriger}

In this second section, we will present the various requirements on which we
based the development of the website. All the requirements were given by the
client in paper format or verbally, and we tried our best to fulfill most of
them. The following section will only develop the more interesting
and more significant ones, as there are too many of them too detail them all. An overview will be made at the end however, stating clearly and visually which requirement have been fulfilled.

\subsection{Players registration}
\label{sub:Players registration}

\subsubsection{Player registration form}
\label{subs:Registration form}

\todo[inline]{Relire et/ou corriger}

The first requirement is to allow each participant of the tournaments to
register on the website. This is done through the user registration form,
accessible from the front page of the website in the top-right menu.
In this form, the participant has to fill in all the information needed to
create a new account, such as his or her personal email address or the account
password, but also information about him or herself (at least the ones that
are mandatory in order to be enlisted into a tournament).\newline

Some of these fields are limited by a set of values, such as the gender or the
player's rank. Each field is then automatically verified, to make sure
everything has the correct format, and no mandatory information is missing.\newline

Once everything is checked, an email is sent to the given email address,
including a link to confirm the email address, indispensable to complete
the registration process. It is also important to notice that neither the
registration to a tournament nor the registration of a court will be accessible
until the email address has been confirmed. All the personal information can
be edited later on by the user, through the page of his or her profile edition,
on the top-right menu when logged in. Finally, it is during the registration
process that the geolocalisation is computed, based on the physical address
of the player, allowing us to integrate the eco-friendly requirement requested
by the client. \newline

We have chosen to work with accounts instead of the old registration process.
The advantage of a account-wide access is that everything becomes way easier
to manage the data of the players, and which consequently eases many other
processes such as the management of pairs, groups, and tournaments as a whole.

\subsubsection{Player management}
\label{subs:Player management}

\todo[inline]{Relire et/ou corriger}

After the player's registration, it is necessary to be able to manage all the
registered players on the website. All of it is made possible through the staff
pages of the website, in the user management tab, which is only accessible
to authorized staff members. In this tab, all the registered users on the
website are available for consultation with a single click in a list of users.
The information of a user can be modified if needed by the staff members
themselves. It is also possible to perform a search on one or several fields,
such as the name, address, or the payment status, in order to slim the number
users in the list.

\subsection{Pair registration}
\label{sub:Pair registration}

\subsubsection{Pair registration form}
\label{subs:Pair registration form}

\todo[inline]{Relire et/ou corriger}

Once a player is registered on the website, he has to find a partner in order
to compete in any available tournament. Since each player has only one account
for him or herself, he or she should be able to constitute a pair with another
player of the website. This is done through the pair registration form,
which only accessible for users with a confirmed email address. In this form,
the user can go through all the others players in the system, and select
the one he wants to pair with. To make this process easier, the user also has
the possibility to perform a search on several fields, such as the first or
last name, to find his or her partner. \newline

Once the partner has been selected, the user can select between several extra
services. He also has the opportunity to leave a comment, for wishes and/or
remarks, in a text area at the bottom of the page. When the user sends the
pair registration demand to the partner, several automated checks are performed
to assign the pairs to the correct tournament. These checks are based
on the criteria given by the client for each tournament, that is the age and
gender of the players. \newline

Once the pair is created and correctly assigned to a tournament, a mail
is sent to each player of the pair with a summary of all the information on the
newly created pair.

\subsubsection{Payment methods}
\label{subs:Payment methods}

\todo[inline]{Relire et/ou corriger}

The payment methods are available to a pair after the registration to one
tournament. Each member of the pair can choose to pay for the registration and
extra fees, with several payment methods: MasterCard, Visa, Paypal or credit
transfer. After the payment of the fees, the status of the pair is updated,
with the field \textit{Pair payment validated by the staff} ticked.\newline

The payment methods page is implemented, but the payment methods processes
themselves are not. This is due to requirement of an actual account,
with the confidential information of the client, to be fully functional,
which were of course not given. Thus, we have decided to not implement
the payment process with false accounts, which would have been replaced
by the client anyway. In the end, everything is in place for the automated
payment process to be operational, with the exception of the setup for the
client banking accounts.

\subsubsection{Extra management}
\label{subs:Extra management}

\todo[inline]{Relire et/ou corriger}

Another requirement is the ability to manage extra services by staff members,
which will be suggested to the players during the pair registration form.
This is made possible in the \textit{Extra} tab of the staff portal, in which
new extras can be created, and existing ones can be modified or deleted.
Their name, description and price are displayed and editable,
and the number of players that ordered these extras are visible on the list
of extras, on the right-side of each extra. The date of the next tournament
and the inscription fees are also editable in this tab,
on the upper-most module.

\subsubsection{Pairs management}
\label{subs:Pairs management}

\todo[inline]{Relire et/ou corriger}

Similarly to the player management tab, which allows the staff to interact with
all the registered players on the website, the pair management tab is the page
where all the pairs are accessible to the staff. These pairs are displayed in a
very user-friendly manner, with the information of both players in the
pair, viewable and editable in just one click. The information on pairs are
also editable if needed. \newline

A search module is also present, with the same mechanism as the one described
in the player management tab, with results limited to the ones having partially
matching data. Staff members can also print a given pair in the PDF format,
by simply clicking on the corresponding button.

\subsection{Courts registration}
\label{sub:Courts registration}

\subsubsection{Court registration form}
\label{subs:Court registration form}

\todo[inline]{Relire et/ou corriger}

As soon as a user has a registered account on the website,
he or she has the possibility to register one or multiple tennis courts that
will be used for the tournaments. This can be done through the court
registration form, which is directly accessible from the navigation menu
when the user is logged on the website. Several fields are needed to register
a court, such as the exact address and location of the court, or the
availability of the court. Once all the mandatory fields are filled, several
automated checks are performed to be sure that the information are valid.
The address of the court is also checked with geolocalisation tools.
Once every field is checked and confirmed by the user, the new court is
created and displayed under the court tab of the website. A staff member
has to validate this court in order to be listed as an available court
in the tournaments.

\subsection{Group creation}
\label{sub:Group creation}

\todo[inline]{Relire et/ou corriger}

One of the biggest and more challenging requirement of this project is the
group creation in a tournament. Each tournament has to be composed of
several groups of players, where each players is dispatched according to
his or her rank, age, and even the ecological footprint (that is, the distance
from his or her house to the court to play and to the HQ of ASMAE)
using the geolocalisation. All of it is achieved on the tournament tab, which is
only available to authorized staff members. On this page, all the
groups for each tournament can be automatically generated according to the
previous criteria. The number of groups and the number of players per group
can also be adjusted using the corresponding fields. Once everything is set,
one click on the generate button creates the groups. \newline

After the groups are generated, it is still possible to modify them at will, by
swapping two players of different groups. This can be done by dragging a pair
entry and dropping it on another pair entry, or by clicking on two different
pairs. Each group also has to have a leader and a court to play on.
This is made possible by clicking on the corresponding buttons that
automatically assign them, or they can be picked by hand by using the
corresponding fields. Finally, all the requests and comments made by the
players and the court owners are displayed, giving some indications on how
to efficiently set the pairs, leaders, and courts in the groups for the staff.
\newline

Once everything is set, the groups can be either saved (and modified later on)
or validated, meaning that they can no longer be adjusted. An email is then
sent to all the players in the tournament when groups are validated.

\subsubsection{Group scores}
\label{subs:Group scores}

\todo[inline]{Relire et/ou corriger}

Once the groups have been created, and all the matches of a group have
finished, a staff members can put the scores of each match in the groups
management page of the tournament. There, he or she can put the scores of the
match of a group using an interactive score board. He or she can edit and save
all the scores before validating them for good, so that the staff can gradually
complete the board as the scores comes. Once all the scores are entered and
validated, the total points of each pair is computed, which will then be of
some use in order to select the pairs for the afternoon elimination tournament.
\newline

The players of a group can submit the scores of their matches, from the
Tournament tab in the navigation menu, at the bottom of the page.
The scores are not definitive: these scores are just placeholders, and
the staff always have the last word.

\subsubsection{Printable version of groups}
\label{subs:Printable version of groups}

\todo[inline]{Relire et/ou corriger}

An important requirement is to be able to print the groups of a given
tournament, with all necessary information, such as the empty scoreboard, the
pairs, and the courts. On the group tab of the staff portal, a staff member can
print one group or all groups of a tournament in the PDF format, containing
all the above information.

\subsection{Knock-off tournaments}
\label{sub:Knock-off tournaments}

\subsubsection{Knock-off tournament creation}
\label{subs:Knock-off tournament creation}

\todo[inline]{Relire et/ou corriger}

After completion of the morning matches, and after all the scores of all groups
have been encoded, the afternoon matches have to be determined.
The authorized staff members can choose which pairs will play
in the afternoon by ticking the corresponding pair entry on the first page
to create the tournament tree. Once all the desired pairs have been picked,
the staff members can order the pairs by hand, using drag-and-dropping,
to decide who's going to face whom in the first rounds of the knockoff table.
If the number of pairs is even, each pair will have an opponent, and all pairs
will play in the first round. On the other hand, if the number of pairs is odd,
then the staff has to decide the pairs that will directly pass
the first round, which could be based on their ranking, or any other criterion.
\newline

After every newly created knock-off tournament, an email will automatically be
sent to the players, which especially contains the information on the pairs and
the court they will be playing on.

\subsubsection{Knock-off tournament management}
\label{subs:Knock-off tournament management}

\todo[inline]{Relire et/ou modifier}

Another requirement is the management of the knock-off tournaments. First of
all, each knock-off tree is printable, including the details of the court.
This is mostly intended to the players, as they can be told on any practical
information, such as where and when they have to play, and against whom.
\newline

Once a match has been played, the score can be entered onto the interactive
tree branches: they are clickable, so staff members just have to select one of
two pairs of a match to input the score of the match. Based on the score
the winners is automatically put in the next step of the tree. Thus, the next
match is immediately visible on the tree; this process goes on until every
match is played and there is a winner of the tournament.

\subsection{Staff management}
\label{sub:Staff management}

\subsubsection{History management}
\label{subs:History management}

\todo[inline]{Relire et/ou modifier}

When several members of the staff are working on the same part of the website,
it can be useful to know who modified a given entity, or what has been modified.
This is implemented on the history tab, accessible by the staff members. On
this page, the date, name of the staff member, section of the website, data
modified and details are displayed. All the staff pages have a short version of
the history log, containing only the most recent changes made in the given
section. For instance, on the bottom of the user management tab, there is a
history log that contains only the last 15 changes that are related to users.

\subsubsection{Permissions management}
\label{subs:Permissions management}

\todo[inline]{Relire et/ou Modifier}

On a such extensive project with various staff managing tools, assigning
each staff member a given job can be a convenient way to work with. We have
chosen to make this possible, by allowing the administrator to assign, by hand,
which part of the website is permitted to whichever staff member.
On the permission management tab of the staff portal, every user is displayed
in a list, and can be selected. Once a user is picked, his or her current
permissions are shown. The administration can change them, by selecting
the intended permissions (tick to allow) on the right panel,
giving him or her the authorization to operate on certain parts of the website.

\subsection{Requirements overview}
\label{Requirements overview}

\todo[inline]{Recheck blue requirement}
At the end of the project, the vast majority of the requirements have been
implemented. The following list shows all the requirements that were provided
by the client. Each requirement statement is colored according to its
fulfillment in the final application: the \textcolor{green!60!black}{green} ones are fully-implemented
requirements, the \textcolor{orange}{orange} ones are the partially-implemented requirements
(followed by a quick explanation what we mean by
\enquote{partially-implemented}), and the \textcolor{red}{red} ones are the non-implemented
requirements. \newline

\subsubsection{Must have :}
\label{Must have}

This section regroups the must haves requirement which were deemed as essential 
to the implementation of a satisfying website for our client. To simply the lecture
of the following lines, those requirements where broken into sub-categories. \newline

\begin{enumerate} \itemsep1pt
\item Implementation of a player registration process :
\begin{enumerate} \itemsep1pt
\item \textcolor{green!60!black} {All the necessary fields are present on 
the registration form}
\item \textcolor{green!60!black} {A comment and wishes field is present at registration}
\item \textcolor{green!60!black} {Basic Automatic verification of fields 
(email addresses contains an '@', ...)}
\item \textcolor{green!60!black} {Possibility to indicate pair partener 
at registration}
\item \textcolor{green!60!black} {Optional extras can be chosen at 
registration}
\item \textcolor{green!60!black} {Staff member can manage extras 
(creation, edition) and modify their price}
\item \textcolor{green!60!black} {Pairs management available for the 
staff (creation, edition)}
\item \textcolor{green!60!black} {Possibility to select payment method
 at registration}
\item \textcolor{green!60!black} {A confirmation email is sent to both
 player at registration}
\item \textcolor{green!60!black} {All Pair possess an identification
 number}
\item \textcolor{green!60!black} {Searching through registered pair via
 multiple fields is possible}
\item \textcolor{green!60!black} {Possibility to send invitation to previous
 years tournament's players}
\item \textcolor{green!60!black} {Pairs are affected to a given tournament 
automatically after registration, depending of their age category and gender}
\end{enumerate}
\item Implementation of a court registration process :
\begin{enumerate} \itemsep1pt
\item \textcolor{green!60!black} {Possibility to re-contact court owner (save 
their contact information somewhere)}
\item \textcolor{green!60!black} {Possibility to register court on website}
\item \textcolor{green!60!black} {Comment from both staff and owner can be 
made on courts}
\item \textcolor{green!60!black} {An Email confirmation is sent at court registration}
\item \textcolor{green!60!black} {Possibility to create/edit/delete court for staff member}
\item \textcolor{green!60!black} {List and search functions on the court data are available}
\end{enumerate}
\item Implementation of poule creation process :
\begin{enumerate} \itemsep1pt
\item \textcolor{green!60!black} {Possibility to create a varying number of poule 
of varying size}
\item \textcolor{green!60!black} {Possibility to affect court (verification that
 said court is not already in use)}
\item \textcolor{green!60!black} {Possibility to select a group leader}
\item \textcolor{green!60!black} {After poule creation, multiple email are sent 
depending on participant situation}
	\begin{enumerate} \itemsep1pt
	\item \textcolor{green!60!black} {Player with payment issue receive an email 
	with the HQ address so they can regularize their situation}
	\item \textcolor{green!60!black} {Group leaders also receive an email with the 
	HQ adress}
	\item \textcolor{green!60!black} {Other players directly receive an email 
	indicating the court where they shall play}
	\end{enumerate}
\item \textcolor{green!60!black} {A user friendly interface helps the staff 
satisfy the participant wishes during poule creation}
\item \textcolor{green!60!black} {Match results can be encoded}
\end{enumerate}
\item Implementation of knock-off tournaments : \newline
\begin{enumerate} \itemsep1pt
\item \textcolor{green!60!black} {Possibility to choose the size of the 
knock-off table}
\item \textcolor{green!60!black} {Possibility to affect player and court as 
required by the staff}
\item \textcolor{green!60!black} {Possibility to print the knock-off table to be
 handed to the players}
\item \textcolor{blue} {A specific page indicate results at the end 
of the day}
\end{enumerate}
\item Staff and user accounts : \newline
\begin{enumerate} \itemsep1pt
\item \textcolor{green!60!black} {Each staff member can have it's own user account}
\item \textcolor{green!60!black} {A role can be defined to each staff member, 
restricting what he can modify in the website}
\item \textcolor{green!60!black} {Staff account's possess their contact information}
\item \textcolor{green!60!black} {The staff's contact information are displayed 
on the documents sent to the player}
\end{enumerate}
\end{enumerate}

\subsubsection{Should have :}
\label{Should have}

This section regroups the should haves requirement which were deemed as important
to the implementation of a satisfying website for our client. Their are not essentials
but highly needed and must thus be implemented. \newline

\begin{enumerate} \itemsep1pt
\item \textcolor{green!60!black} {A log of every modification done by the staff 
is available. Theses modifications should be dated and displayed on the 
corresponding page and on a user history page}
\item \textcolor{green!60!black} {Players information are linked years after years}
\item \textcolor{green!60!black} {Automatic Email validation at registration}
\item \textcolor{green!60!black} {The knock-off tournament should be generated 
automatically depending on poule result. (But still be editable by staff)}
\end{enumerate}

\subsubsection{Could have :}
\label{Could have}

This section regroups the could haves requirement which were not really deemed important
for the function of the website but would ease the work of the staff.\newline

\begin{enumerate} \itemsep1pt
\item \textcolor{orange} {Fully automatic online payment are available}
	\begin{enumerate} \itemsep1pt
	\item While the interface allowing online payment is present in the website
	 it is actually not fully functionnal as it is tightly linked to the accounts
	  used behind it. Implementing it with one of our account for demonstration would
	   have served next to no purpose and, in case the client decide to use our 
	   website, everything will have to be redone anyway.
	\end{enumerate}
\item \textcolor{green!60!black} {Player can register individually, a pair would thus be affected to them at random}
\item \textcolor{green!60!black} {Automatic poule generation minimizing carbon footprint}
\item \textcolor{orange} {Possibility to switch to rainy day mode}
	\begin{enumerate} \itemsep1pt
	\item While there is no such feature it remains possible to attain the same result
	by selecting indoor court during the poule/knock-off creation process.
	\end{enumerate}
\item \textcolor{green!60!black} {Account system for players and court owner}
\item \textcolor{green!60!black} {Court owner have access to a log the activity 
organized on their court}
\item \textcolor{orange} {Step by step contact procedure for court owner, 
so that no information is missed}
	\begin{enumerate} \itemsep1pt
	\item We have not implemented such an interface as we actually didn't see the point.
	If the step by step process really is necessary, staff member can of on the court
	edition page and check each field one by one in the order they appear on the page. 
	\end{enumerate}
\item \textcolor{green!60!black} {Website is mobile friendly (responsive design)}
\end{enumerate}

\subsubsection{Would like to have :}
\label{Would like to have}

This section regroups the could haves requirement which were not deemed important
but would still be nice additions.\newline

\begin{enumerate} \itemsep1pt
\item \textcolor{green!60!black} {The website checks for cheaters by looking at their 
AFT ranking}
\item \textcolor{green!60!black} {Possibility to submit match result by smartphone}
\item \textcolor{green!60!black} {Player score available live on the website}
\end{enumerate}

\todo[inline]{Rajouter une fonction sur ce qu'on aurait fait en plus des requirement ? Genre les mails templates ? Dite moi si je rajoute ou pas - Cyril}
