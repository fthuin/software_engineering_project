\section{Requirements}
\label{sec:Requirements}

\todo[inline]{Faire une introduction qui dit que tous ces requirements sont
ceux du client, qu'ils ont été la base de notre travail, etc.}

In this second section, we will present the various requirements on which we based the development of the website. All the requirements used were the ones given by the client in the different papers and sessions, and we tried our best to fulfil them. Because of their number, we will only develop the more interesting and time consuming ones.

\subsection{Players registration}
\label{sub:Players registration}

\subsubsection{Player registration form}
\label{subs:Registration form}

\todo[inline]{Dire que ça crée un compte. Dire que les champs sont vérifiés,
qu'il reçoit un email de confirmation et que tant qu'il a pas cliqué sur le
lien, il n'a pas accès à l'inscription ou à l'enregistrement d'un terrain.
Dire que la géolocalisation se calcule ici. Dire que certains champs sont
limités par l'administrateur (sexe, classement,\ldots). Dire que tous ces
champs sont modifiables plus tard par l'utilisateur.}

The first requirement was to allow each participant of the tournaments to register on the website. This is done through the player registration form, accessible from the front page of the website. In this form, the participant is asked to fill in all the informations needed to create an account (such as the email address used or the password) but also their personal informations (required to be enlisted into the tournament). Some of these fields are limited by the administrator in charge of the registration process, such as the gender or the player's ranking. Each field is then verified to be sure that everything has the good format and nothing is missing. \newline

Once everything is checked, a mail containing a confirmation link is sent to the specified address to complete the registration process. It is important to notice that neither the enrolment to a tournament nor the registration of a court will be accessible until the confirmation link is clicked on. All the informations entered in this form is modifiable later on by the user, through the edit profile process. \newline

We chose to work with accounts instead of the old registration process because it appeared to us that is was way more easier to manipulate the player's data, but also to create pairs of players, groups and the tournaments in general.

\subsubsection{Player management}
\label{subs:Player management}

\todo[inline]{Dire qu'il y a une interface staff réservée à la gestion des
utilisateurs dans la partie staff qui permet au staff de gérer les informations
des joueurs, de faire des recherches selon différents critères, etc.}

After the player's registration, it was important to be able to manage all the players registered on the website. This is possible through the staff interface of the website (the user management tab) only accessible to authorized staff members. In this tab, all the users registered on the website are displayed and their informations are accessible with a single click. These informations can be modified if needed by the staff members themselves. It is also possible to perform a research on one or several fields (such as the name, address or the payment status), to display specific users or informations.

\subsection{Pair registration}
\label{sub:Pair registration}

\subsubsection{Pair registration form}
\label{subs:Pair registration form}

\todo[inline]{Dire que la personne peut rechercher les autres joueurs dans
une liste ou à travers une fonction de recherche, il peut choisir les extras
proposés par le staff. Des checks automatisés sont faits pour assigner les
joueurs à des tournois en fonction des critères donnés par le client. Dire
qu'un mail récapitulatif est envoyé lorsqu'une paire est validée.}

Once a player is registered on the website, he has to form a pair to compete in a given tournament. Since each player only creates an account for himself, he should be able to create a pair with another player of the website. This is done through the pair registration form, accessible once the user received the confirmation mail and activated his account. In this form, the user can go through all the others players and select the one he wants to pair with. To make this process easier, the user also has the possibility to perform a research on several fields (such as the last name or first name) to find the second member of his pair. \newline

Once the pair is selected, the user can choose between several extra services, such as a place for the barbecue organized by the ASMAE team. He also has the opportunity to leave additional informations (wishes, remarks, ...) in a special dialogue box at the end of the page. Several automated checks are then performed to assign the pairs to the correct tournament. These checks are based on the criteria given by the client for each tournament (such as the age of the players or gender). \newline

Once the pair is created and correctly assigned to a tournament, a summary mail is sent to each player of the pair with all the informations.


\subsubsection{Payment methods}
\label{subs:Payment methods}

\todo[inline]{Dire qu'une page pour les méthodes de paiement est déjà
implémentée mais que les méthodes de paiement ne le sont pas car de toute
façon elles devraient être mises à jour par le client; ça n'avait donc pas
de sens de faire des faux comptes si le client doit tout réinstaller derrière}

The payment methods are available to a pair after the enlistment to one of the tournaments. Each member of the pair can chose to pay for the inscription and extra fees, with several payment methods (MasterCard, Visa, Paypal or credit transfer). After the payment of the fees, the status of the pair is updated, with the field \textit{Pair payment validated by the staff} ticked.\newline

The payment methods page is implemented, but the methods themselves aren't. This is explained by the fact that these methods required the actual accounts and informations of the client to be fully functional, which we were of course not given. We thus decided not to implement the payment process with false accounts, which would have been replaced anyway by the client. At the end, everything is in place for the payment to be operational, exception made for the setup of the client's accounts.

\subsubsection{Extra management}
\label{subs:Extra management}

\todo[inline]{Dire que le staff est capable de modifier les frais d'inscription
de modifier la date du prochaine tournoi, de modifier les extras, de voir le
nombre de joueurs qui ont demandé un extra, etc}

\subsubsection{Pairs management}
\label{subs:Pairs management}

\todo[inline]{Dire que le staff a une partie réservée à la gestion des paires
avec des fonctions de recherche par critères et une affichage simple qui leur
permet d'accéder à des vues d'affichage ou de modification d'informations
sur les paires ; ainsi que la possibilité d'imprimer une paire.}

\subsection{Courts registration}
\label{sub:Courts registration}

\subsubsection{Court registration form}
\label{subs:Court registration form}

\todo[inline]{Dire que tous les champs sont vérifiés, que l'adresse est
vérifiée pour géolocalisation par Google, que certains champs sont limités par
défaut par l'administrateur (état du terrain, type, surface, \ldots)}

\subsection{Group creation}
\label{sub:Group creation}

\todo[inline]{Expliquer la gestion des poules, dire qu'on peut faire du
drag\& drop, du click\& swap, qu'on peut générer automatiquement toutes les
poules grâce à la géolocalisation pour diminuer l'empreinte écologique. Dire
que si le staff modifie la génération automatique, il peut quand même diminuer
l'empreinte écologique en assignant les terrains les plus proches des joueurs
ou en assignant le joueur le plus proche du quartier général en tant que group
leader. On leur affiche les commentaires sur le terrain et les commentaires des
joueurs sur cette page. Dire qu'un mail est envoyé lorsqu'un groupe est validé
par un staff.}

\subsubsection{Group scores}
\label{subs:Group scores}

\todo[inline]{Dire que les utilisateurs peuvent proposer des scores que le
staff peut voir lorsqu'ils enregistrent les tableaux de scores. Les staffs
entrent manuellement les scores dans le tableau, ils peuvent faire des
sauvegardes. Une fois que tous les scores seront entrés, ils pourront créer
le tournoi de l'après-midi.}

\subsubsection{Printable version of groups}
\label{subs:Printable version of groups}

\todo[inline]{Dire que le site permet d'imprimer les poules unes par une ou
d'imprimer toutes les poules relatives à un tournoi, que ça comprend à la fois
un tableau de scores, les informations sur le staff, les informations sur les
joueurs, les terrains, les sponsors,\ldots}

\subsection{Knock-off tournaments}
\label{sub:Knock-off tournaments}

\subsubsection{Knock-off tournament creation}
\label{subs:Knock-off tournament creation}

\todo[inline]{Dire qu'après l'insertion des scores pour le matin, le staff
peut choisir les poules qui joueront l'après-midi en cochant des cases. Une
fois les personnes cochées, on propose au staff un drag\& drop pour créer
l'arbre de l'après-midi et choisir qui joue contre qui ; et si un nombre
impair de paires a été choisi, qui passera les étapes sans jouer de matchs.
Dire que des mails automatisés sont envoyés lorsqu'un tournoi est créé.}

\subsubsection{Knock-off tournament management}
\label{subs:Knock-off tournament management}

\todo[inline]{Dire qu'il est possible d'imprimer l'arbre de tournoi et les
informations du terrain pour les joueurs. L'arbre a toutes ses branches qui
sont cliquables pour insérer les scores et en fonction des scores l'arbre
se remplit automatiquement avec les prochains matchs à jouer.}

\subsection{Staff management}
\label{sub:Staff management}

\subsubsection{History management}
\label{subs:History management}

\todo[inline]{Dire que les actions des staffs sont affichées sur une page
spécifique de l'interface staff et elle permet de voir qui a modifié quoi}

\subsubsection{Permissions management}
\label{subs:Permissions management}

\todo[inline]{Expliquer qu'on peut assigner des permissions à chaque utilisateur
qui a créé un compte sur le site pour lui permettre d'accéder à certaines
parties de l'interface staff.}
