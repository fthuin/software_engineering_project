{% extends "tennis/staff.html" %}

{% block title %}Gestion des tournois{% endblock %}
{% block ongTournoi %}class="active"{% endblock %}

{% block bodyStaff %}
<!-- Gestionnaire des groupes -->
<div class="content-box" id="gestionTournoi">
    <h2 class="center">Gestionnaire des tournois</h2>
    <hr class="line">
    
    <div class="panel panel-default center-block" style="max-width:90%;">
        <div class="panel-heading">Tournois</div>
        <div class="table-responsive">
            <table class="table table-hover">
                <thead>
                  <tr>
                    <th>Nom</th>
                    <th style="text-align:center">Jour</th>
                    <th>Descriptions</th>
                    <th style="text-align:center">Paires</th>
                    <th style="text-align:center">Poules</th>
                    <th style="text-align:center">Status</th>
                  </tr>
                </thead>
                <tbody>
                    {% for tournoi in allTournoi %}
                    {% if tournoi.status.id == 2 %}
                    <tr class="clickable-row" onclick="location.href='{% url "tennis.views.pouleTournoi" tournoi.nom %}';">
                        <td style="width:18%;vertical-align: middle;">{{ tournoi.nom }}</td>
                        <td style="text-align:center;vertical-align: middle;">{{ tournoi.jour }}</td>
                        <td>{{ tournoi.description }}</td>
                        <td style="text-align:center;vertical-align: middle;">{{ tournoi.np }}</td>
                        <td style="text-align:center;vertical-align: middle;">{{ tournoi.pl }}</td>
                        <td style="text-align:center;vertical-align: middle;">{{ tournoi.status.nom }}</td>
                    </tr>
                    {% else %}
                    <tr class="clickable-row" onclick="location.href='{% url "tennis.views.generatePool" tournoi.nom %}';">
                        <td style="width:18%;vertical-align: middle;">{{ tournoi.nom }}</td>
                        <td style="text-align:center;vertical-align: middle;">{{ tournoi.jour }}</td>
                        <td>{{ tournoi.description }}</td>
                        <td style="text-align:center;vertical-align: middle;">{{ tournoi.np }}</td>
                        <td style="text-align:center;vertical-align: middle;">{{ tournoi.pl }}</td>
                        <td style="text-align:center;vertical-align: middle;">{{ tournoi.status.nom }}</td>
                    </tr>
                    {% endif %}

                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>

    <div class="row">
        {% for tournoi in allTournoi %}
        <div class="col-sm-6">
            <div class="panel panel-default">
                <div class="panel-heading">{{ tournoi.nom }} ({{tournoi.jour}})</div>
                <div class="panel-body">
                    <button class="btn btn-default center-block" type="button" onClick="location.href='{% url "tennis.views.pouleTournoi" tournoi.nom %}';">Score</button>
                </div>
            </div>
        </div>
        {% endfor %}
    </div>
</div>

{% endblock %}
    
