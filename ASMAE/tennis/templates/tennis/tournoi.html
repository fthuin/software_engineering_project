{% extends "tennis/base.html" %}

{% block title %}Tournoi{% endblock %}
{% block nav-tournoi %}class="active"{% endblock %}

{% block body %}

<div class="container">

	<div class="content-box">
		<h2 class="center">Inscription</h2>
		<hr class="line">
		<div class="row">
			<div class="col-sm-6">
				<!-- Panel infos -->
				<div class="panel panel-default">
					<div class="panel-heading">Demande d'inscription</div>
					<div class="table-responsive">
		            <table class="table table-hover">
		                <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tournoi</th>
                                <th>Jour</th>
                                <th>Joueur 1</th>
                                <th>Joueur 2</th>
                            </tr>
                       </thead>
                       <tbody>
                        {% for item in demande %}
                            <tr onclick="window.document.location='{% url "tennis.views.confirmPair" item.id %}'" class="clickable-row">
                                <td>{{ item.id }}</td>
                                <td>{{ item.tournoi.nom }}</td>
                                <td>{{ item.tournoi.jour }}</td>
                                <td>{{item.user1.participant.prenom}} {{item.user1.participant.nom}}</td>
                                <td>{{item.user2.participant.prenom}} {{item.user2.participant.nom}}</td>
                            </tr>
                        {% empty %}
                            <tr>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        {% endfor %}
                       </tbody>
		             </table>
					</div>
				</div>
			</div>
			<div class="col-sm-6">
				<!-- Panel infos -->
				<div class="panel panel-default">
					<div class="panel-heading">Partenaire non confirmé</div>
					<div class="table-responsive">
		            <table class="table table-hover">
		                <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tournoi</th>
                                <th>Jour</th>
                                <th>Joueur 1</th>
                                <th>Joueur 2</th>
                            </tr>
                       </thead>
                       <tbody>
                        {% for item in nonComfirme %}
                            <tr onclick="window.document.location='{% url "tennis.views.cancelPair" item.id %}'" class="clickable-row">
                                <td>{{ item.id }}</td>
                                <td>{{ item.tournoi.nom }}</td>
                                <td>{{ item.tournoi.jour }}</td>
                                <td>{{item.user1.participant.prenom}} {{item.user1.participant.nom}}</td>
                                <td>{{item.user2.participant.prenom}} {{item.user2.participant.nom}}</td>
                            </tr>
                        {% empty %}
                            <tr>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        {% endfor %}
                       </tbody>
		             </table>
					</div>
				</div>
			</div>
		</div>

		<!-- Panel infos -->
		<div class="panel panel-default">
			<div class="panel-heading">Mes inscriptions</div>
		        <div class="table-responsive">
		            <table class="table table-hover">
		                <thead>
                            <tr>
                                <th>ID</th>
                                <th>Tournoi</th>
                                <th>Jour</th>
                                <th style="text-align:center;">Validé</th>
                                <th style="text-align:center;">Payé</th>
                                <th>Joueur 1</th>
                                <th>Joueur 2</th>
                            </tr>
                       </thead>
                       <tbody>
                        {% for item in inscrit %}
                            <tr onclick="window.document.location='{% url 'tennis.views.viewPair' item.id %}'" class="clickable-row">
                                <td>{{ item.id }}</td>
                                <td>{{ item.tournoi.nom }}</td>
                                <td>{{ item.tournoi.jour }}</td>
                                <td style="text-align:center;">{% if item.valid %}<span class="glyphicon glyphicon-ok" style="color:green;"></span>{% else %}<span class="glyphicon glyphicon-remove" style="color:red;"></span>{% endif %}</td>
                                <td style="text-align:center;">{% if item.pay %}<span class="glyphicon glyphicon-ok" style="color:green;"></span>{% else %}<span class="glyphicon glyphicon-remove" style="color:red;"></span>{% endif %}</td>
                                <td>{{item.user1.participant.prenom}} {{item.user1.participant.nom}}</td>
                                <td>{{item.user2.participant.prenom}} {{item.user2.participant.nom}}</td>
                            </tr>
                        {% empty %}
                            <tr>
                                <td>-</td>
                                <td>-</td>
                                <td>-</td>
                                <td style="text-align:center;">-</td>
                                <td style="text-align:center;">-</td>
                                <td>-</td>
                                <td>-</td>
                            </tr>
                        {% endfor %}
                       </tbody>
		             </table>
			</div>
		</div>


		<!-- Inscription -->
		<button onClick="location.href='{% url "tennis.views.inscriptionTournoi" %}';" class="btn btn-default b-center">S'inscrire à un tournoi</button>
	</div>



	<div class="row" style="display:none;">
		<div class="col-sm-6">
			<!-- Les historique de matchs -->
			<!-- TODO set info -->
			<div class="content-box">
				<h2 class="center">Historique (TODO)</h2>
				<hr class="line">

				<!-- Selecteur -->
				<div class="row" style="margin-bottom: 20px;">
					<div class="col-xs-3 info">
						Tournoi
					</div>
					<div class="col-lg-8 col-sm-4 col-xs-8">
					   	<select class="form-control" name="title">
							<option>Senior (homme)</option>
						    <option>???</option>
						    <option>???</option>
						    <option>???</option>
						</select>
		    		</div>
				</div>

				<!-- Panel infos -->
				<div class="panel panel-default">
					<div class="panel-heading">Derniers match joués</div>
					<ul class="list-group">
		  				<li class="list-group-item">14h30 - Paires 8945 vs 12345 - Victoire</li>
						<li class="list-group-item">13h30 - Paires 8945 vs 10119 - Victoire</li>
					</ul>
				</div>

				<!-- Consulter -->
				<button class="btn btn-default b-center">Consulter tout l'historique</button>
			</div>
		</div>
		<div class="col-sm-6">
			<!-- Agenda -->
			<!-- TODO set info -->
			<div class="content-box">
				<h2 class="center">Agenda (TODO)</h2>
				<hr class="line">

				<!-- Selecteur -->
				<div class="row" style="margin-bottom: 20px;">
					<div class="col-xs-3 info">
						Tournoi
					</div>
					<div class="col-lg-8 col-sm-4 col-xs-8">
					   	<select class="form-control" name="title">
							<option>Senior (homme)</option>
						    <option>???</option>
						    <option>???</option>
						    <option>???</option>
						</select>
		    		</div>
				</div>

				<!-- Panel infos -->
				<div class="panel panel-default">
					<div class="panel-heading">Prochains matchs</div>
					<ul class="list-group">
		  				<li class="list-group-item">15h30 - Paires 8945 vs 9655</li>
					</ul>
				</div>

				<!-- Consulter -->
				<button class="btn btn-default b-center">Consulter la table du tournoi</button>
			</div>
		</div>
	</div>




</div>

{% endblock %}
