{% extends "tennis/tournoi.html" %}

{% block title %}Inscription Tournoi{% endblock %}

{% block body %}
<div class="container">
	<div class="content-box">
		<h2 class="center">Inscription au tournoi (TODO set info)</h2>
		<hr class="line">
		<form class="form-horizontal" name="registerForm" role="form" method="post" action="{% url "tennis.views.register" %}" onsubmit="" >
			<div class="row">
				<div class="col-sm-6">
					<!-- Tournoi -->
					<div class="form-group">
				      <label class="control-label col-sm-4" for="tournoi">Tournoi : </label>
				      <div class="col-sm-8">
				      	<select class="form-control" name="tournoi">
				      		{% for elem in Tour %}
				      		<option>{{ elem.nom }}</option>
				      		{% endfor %}
						</select>
				      </div>
				    </div>
				    <!-- Description -->
					<div class="form-group">
				      <label class="control-label col-sm-4" for="tournoi">Description : </label>
				      <div class="col-sm-8">
				      	<p class="info">{{ Tour.0.description }}</p>
				      </div>
				    </div>
				</div>

				<div class="col-sm-6">
					<!-- Rechercher -->
					<div class="row" style="margin-bottom:15px;">
						<div class="col-sm-8 col-sm-offset-2">
							<div class="input-group">
						      <input type="text" class="form-control" placeholder="Rechercher un utilisateur">
						      <span class="input-group-btn">
						        <button class="btn btn-default" type="button"><span class="glyphicon glyphicon-search"></span></button>
						      </span>
						    </div>
						</div>
					</div>  

					<!-- Liste des users -->
					<div class="panel panel-default center-block" style="max-width:600px;">
						<div class="panel-heading">Utilisateurs</div>
						<div class="list-group" id="UserList">
						</div>
					</div>

					<!-- Info -->
					<p class="center" id="UserInfo"></p>

					<!-- Bottom pagination -->
					<div class="text-center">
						<ul class="pagination" id="UserPagination">
						</ul>
					</div>
				</div>				
			</div>
			<div class="row">

				<div class="col-sm-6">
					<div class="panel panel-default">
						<div class="panel-heading">Joueur 1</div>
						<div class="panel-body">
							<!-- Username -->
							<div class="form-group">
						      <label class="control-label col-sm-4" for="username">Utilisateur : </label>
						      <div class="col-sm-8">
						      	<p class="info">{{ user.username }}</p>
						      </div>
						    </div>
						    <!-- Nom -->
							<div class="form-group">
						      <label class="control-label col-sm-4" for="nom">Nom : </label>
						      <div class="col-sm-8">
						      	<p class="info">{{ user.participant.nom }}</p>
						      </div>
						    </div>
						    <!-- Prenom -->
							<div class="form-group">
						      <label class="control-label col-sm-4" for="username">Prénom : </label>
						      <div class="col-sm-8">
						      	<p class="info">{{ user.participant.prenom }}</p>
						      </div>
						    </div>
						    <!-- Extra -->
							<div class="form-group">
						      <label class="control-label col-sm-4" for="username">Extras : </label>
						      <div class="col-sm-8">
						      	{% for extra in Ex %}
						      	<div class="checkbox">
							      <label><input type="checkbox" value="{{ extra.id }}">{{ extra.nom }} ({{ extra.prix }} €)</label>
							    </div>
							    {% endfor %}
						      </div>
						    </div>
						</div>
					</div>
				</div>

				<div class="col-sm-6">
					<div class="panel panel-default">
						<div class="panel-heading">Joueur 2</div>
						<div class="panel-body">
							<input type="text" name="username2" id="username2Value" value="" style="display:none">
							<!-- Username -->
							<div class="form-group">
						      <label class="control-label col-sm-4" for="username">Utilisateur : </label>
						      <div class="col-sm-8">
						      	<p class="info" id="username2"> - </p>
						      </div>
						    </div>
						    <!-- Nom -->
							<div class="form-group">
						      <label class="control-label col-sm-4" for="nom">Nom : </label>
						      <div class="col-sm-8">
						      	<p class="info" id="nom2"> - </p>
						      </div>
						    </div>
						    <!-- Prenom -->
							<div class="form-group">
						      <label class="control-label col-sm-4" for="username">Prénom : </label>
						      <div class="col-sm-8">
						      	<p class="info" id="prenom2"> - </p>
						      </div>
						    </div>
						    <!-- Extra -->
							<div class="form-group">
						      <label class="control-label col-sm-4" for="username">Extras : </label>
						      <div class="col-sm-8">
						      	{% for extra in Ex %}
						      	<div class="checkbox">
							      <label><input type="checkbox" value="{{ extra.id }}" disabled>{{ extra.nom }} ({{ extra.prix }} €)</label>
							    </div>
							    {% endfor %}
						      </div>
						    </div>
						</div>
					</div>
				</div>
			</div>
			<!-- Info -->
			<div class="row">
				<div class="col-sm-10 col-sm-offset-1">
					<label>Informations additionnelles (souhaits, remarques, ...) : </label>
					<textarea class="form-control" rows="3" name="remarque" id="remarque" placeholder="Remarque et/ou souhaits ..."></textarea>
				</div>
			</div>

			<!-- Inscription button -->
			<button class="btn btn-default center-block" style="margin-top:20px;">Inscription</button>
			
		</form>
		
	</div>
</div>

{% endblock %}

{% block commande %}
<script>
var userList = [];
{% for user in Use %}
userList.push(['{{ user.username }}','{{ user.participant.prenom }}','{{ user.participant.nom }}']);
{% endfor %}
setUser(userList);
</script>
{% endblock %}